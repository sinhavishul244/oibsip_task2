function randomInteger(e,t){return Math.floor(Math.random()*(t-e+1))+e}function rgb(e,t,n){return new THREE.Vector3(e,t,n)}import*as THREE from"https://cdn.skypack.dev/three@v0.122.0";document.addEventListener("DOMContentLoaded",function(e){const t=document.getElementById("canvas"),n=new THREE.WebGLRenderer({canvas:t});n.setPixelRatio(2*window.devicePixelRatio);const r=new THREE.Scene,o=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);let a=!1;o.position.z=5;var i=new THREE.Vector2(1,2),u=function(e,t,n){return Math.floor(192+64*Math.cos((e*e-t*t)/300+n))},c=function(e,t,n){return Math.floor(192+64*Math.sin((e*e*Math.cos(n/4)+t*t*Math.sin(n/3))/300))},d=function(e,t,n){return Math.floor(192+64*Math.sin(5*Math.sin(n/9)+((e-100)*(e-100)+(t-100)*(t-100))/1100))};let s=document.querySelector("#snoise-function").textContent,l=new THREE.PlaneGeometry(window.innerWidth/2,400,100,100),m=new THREE.ShaderMaterial({uniforms:{u_bg:{type:"v3",value:rgb(17,0,158)},u_bgMain:{type:"v3",value:rgb(162,138,241)},u_color1:{type:"v3",value:rgb(162,138,241)},u_color2:{type:"v3",value:rgb(82,31,241)},u_time:{type:"f",value:30},u_randomisePosition:{type:"v2",value:i}},fragmentShader:s+document.querySelector("#fragment-shader").textContent,vertexShader:s+document.querySelector("#vertex-shader").textContent}),v=new THREE.Mesh(l,m);v.position.set(-200,270,-280),v.scale.multiplyScalar(4),v.rotationX=-1,v.rotationY=0,v.rotationZ=.1,r.add(v),n.render(r,o);let E=0,h=0,f=randomInteger(0,32),w=randomInteger(0,32);const M=function(){requestAnimationFrame(M),n.render(r,o),v.material.uniforms.u_randomisePosition.value=new THREE.Vector2(h,h),v.material.uniforms.u_color1.value=new THREE.Vector3(u(f,w,E/2),c(f,w,E/2),d(f,w,E/2)),v.material.uniforms.u_time.value=E,E%.1==0&&(0==a?(f-=1,f<=0&&(a=!0)):(f+=1,f>=32&&(a=!1))),h+=.01,E+=.005};M()});